$((()=>{var e=window.msBrowser||window.browser||window.chrome;const o=window.location.href;if(o.includes("?")){const e=function(e){for(var o={},s=e.split("?")[1].split("&"),t=0;t<s.length;t++)params=s[t].split("="),o[params[0]]=params[1];return o}(o);invoiceToPay=e.invoice?e.invoice:"",openingSource=e.source?e.source:""}e.storage.sync.get("RTL_SERVER_URL",(function(o){o.RTL_SERVER_URL&&""!=o.RTL_SERVER_URL.trim()&&callServerAPI("GET",o.RTL_SERVER_URL.trim(),"").then((s=>{callServerAPI("GET",o.RTL_SERVER_URL.trim()+CONSTANTS.RTL_CONF_URL,"").then((o=>{rtlConfig=o,e.storage.sync.set({SERVER_CONFIG:rtlConfig}),rtlConfig.nodes&&(selNode=rtlConfig.nodes.filter((e=>e.index==rtlConfig.selectedNodeIndex))[0],selNode&&selNode.settings&&selNode.settings.themeMode&&selNode.settings.themeColor&&$('link[id="themeStyle"]').attr("href","../assets/themes/"+selNode.settings.themeMode.toLowerCase()+"/"+selNode.settings.themeColor.toLowerCase()+".css"))})).catch((e=>{console.error(e)}))})).catch((e=>{console.error(e)})),loadModule({load:CONSTANTS.MODULES.AUTHENTICATION,loadedFrom:CONSTANTS.MODULES.MAIN})})),$("#headerClose").click((function(){close(),window.top.close()}))}));