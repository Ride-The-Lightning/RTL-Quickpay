authenticationHtml='\n  <div id="authentication" class="page-container">\n    <h6 class="card-subtitle">RTL Server URL:</h6>\n    <input type="text" class="form-control" id="serverUrl" placeholder="Configure server URL to start quick pay" tabindex="3">\n    <p id="configError" class="show-error">Please enter complete url including the protocol (http Or https).</p>\n    <p id="configMsg" class="show-config-msg">Server URL configured successfully.</p>\n    <div class="d-flex justify-content-start mt-2">\n      <button id="configBtn" type="button" class="btn btn-primary mt-2" tabindex="4" disabled>Save URL</button>\n    </div>\n    <hr class="my-4">\n    <h6 class="card-subtitle">Password:</h6>\n    <input type="password" class="form-control" id="password" tabindex="5">\n    <div class="d-flex justify-content-start mt-2">\n      <button id="authBtn" type="button" class="btn btn-primary mt-2" tabindex="6" disabled>Login</button>\n    </div>\n  </div>';let Authentication=function(t){this.loadedFrom=t.loadedFrom};Authentication.prototype.initEvents=function(){"use strict";var t=window.msBrowser||window.browser||window.chrome;t.storage.sync.get("RTL_SERVER_URL",(function(t){t.RTL_SERVER_URL&&""!=t.RTL_SERVER_URL.trim()?(RTLServerURL=t.RTL_SERVER_URL,$("#serverUrl").val(RTLServerURL),$("#password").focus()):($("#authBtn").attr("disabled",!0),$("#password").attr("disabled",!0),$("#serverUrl").focus())})),$("#serverUrl").keyup((function(){event.preventDefault();var t=$("#serverUrl").val();t&&""!=t?CONSTANTS.URL_REGEX.test(t)?($("#configError").hide("slow"),$("#configBtn").removeAttr("disabled")):$("#configError").show("slow"):$("#configBtn").attr("disabled",!0),"Enter"==event.code&&$("#configBtn").click()})),$("#configBtn").click((function(){var e=$("#serverUrl").val();e.lastIndexOf("/")==e.length-1&&(e=e.slice(0,e.length-1)),e.lastIndexOf("/api")==e.length-4&&(e=e.slice(0,e.length-4)),e.lastIndexOf("/rtl")==e.length-4&&(e=e.slice(0,e.length-4)),t.storage.sync.set({RTL_SERVER_URL:e},(function(n){RTLServerURL=e,$("#serverUrl").val(e),$("#configMsg").show("slow"),$("#password").removeAttr("disabled"),setTimeout((()=>{$("#configMsg").hide("slow")}),2e3),callServerAPI("GET",e+CONSTANTS.RTL_CONF_URL,"").then((e=>{rtlConfig=e,t.storage.sync.set({SERVER_CONFIG:rtlConfig})}))}))})),$("#password").on("keyup",(function(){event.preventDefault(),event.altKey||event.ctrlKey||"Tab"==event.code||""==$("#password").val().trim()||($("#authBtn").removeAttr("disabled"),"Enter"==event.code&&$("#authBtn").click())})),$("#authBtn").on("click",(function(){$("#authBtn").html(CONSTANTS.SPINNER_BTN),$("#spinnerBtnMsg").text("Logging in...");var t=new jsSHA("SHA-256","TEXT");t.update($("#password").val());var e=t.getHash("HEX");callServerAPI("POST",RTLServerURL+CONSTANTS.AUTH_URL,"",JSON.stringify({authenticateWith:"PASSWORD",authenticationValue:e})).then((t=>{if(t.token)serverToken=t.token,loadModule({load:CONSTANTS.MODULES.PAYMENT,loadedFrom:CONSTANTS.MODULES.AUTHENTICATION});else{let t={message:"Server Connection or Authentication Failed!",error:"Unable to connect to the server. Please ensure that, server url and password are correct."};loadModule({load:CONSTANTS.MODULES.ERROR,loadedFrom:CONSTANTS.MODULES.AUTHENTICATION,error:t})}$("#authBtn").html("Login")})).catch((t=>{$("#authBtn").html("Login"),loadModule({load:CONSTANTS.MODULES.ERROR,loadedFrom:CONSTANTS.MODULES.AUTHENTICATION,error:t.responseJSON})}))}))},Authentication.prototype.render=function(){pageContainer.html(authenticationHtml)};